{"version":3,"file":"setupTests.js","sourceRoot":"","sources":["setupTests.ts"],"names":[],"mappings":"AAAA,OAAO,2BAA2B,CAAC;AAEnC,yCAAyC;AACzC;IAAA;IAqCA,CAAC;IApCC,yCAAc,GAAd;QACE,OAAO;YACL,OAAO,EAAE,IAAI,CAAC,EAAE,EAAE;YAClB,UAAU,EAAE,IAAI,CAAC,EAAE,EAAE;YACrB,OAAO,EAAE,CAAC;YACV,iBAAiB,EAAE,CAAC;SACrB,CAAC;IACJ,CAAC;IAED,6CAAkB,GAAlB;QACE,OAAO;YACL,OAAO,EAAE,IAAI,CAAC,EAAE,EAAE;YAClB,UAAU,EAAE,IAAI,CAAC,EAAE,EAAE;YACrB,KAAK,EAAE,IAAI,CAAC,EAAE,EAAE;YAChB,IAAI,EAAE,IAAI,CAAC,EAAE,EAAE;SAChB,CAAC;IACJ,CAAC;IAED,kDAAuB,GAAvB;QACE,OAAO;YACL,OAAO,EAAE,IAAI,CAAC,EAAE,EAAE;YAClB,UAAU,EAAE,IAAI,CAAC,EAAE,EAAE;SACtB,CAAC;IACJ,CAAC;IAED,iCAAM,GAAN;QACE,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC3B,CAAC;IAED,kCAAO,GAAP;QACE,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC3B,CAAC;IAED,gCAAK,GAAL;QACE,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC3B,CAAC;IACH,uBAAC;AAAD,CAAC,AArCD,IAqCC;AAED,iBAAiB;AACjB;IAOE,uBAAmB,GAAW,EAAS,SAA6B;QAAjD,QAAG,GAAH,GAAG,CAAQ;QAAS,cAAS,GAAT,SAAS,CAAoB;QANpE,WAAM,GAAwB,IAAI,CAAC;QACnC,YAAO,GAAwB,IAAI,CAAC;QACpC,cAAS,GAAqC,IAAI,CAAC;QACnD,YAAO,GAAsC,IAAI,CAAC;QAClD,eAAU,GAAG,CAAC,CAAC;IAEwD,CAAC;IAExE,4BAAI,GAAJ,UAAK,KAA2B;QAC9B,sBAAsB;IACxB,CAAC;IAED,6BAAK,GAAL;QACE,sBAAsB;IACxB,CAAC;IACH,oBAAC;AAAD,CAAC,AAhBD,IAgBC;AAED,oBAAoB;AACpB,IAAM,gBAAgB,GAAG;IACvB,YAAY,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,kBAAkB,CAAC;QACzC,OAAA,OAAO,CAAC,OAAO,CAAC;YACd,SAAS,EAAE,cAAM,OAAA,CAAC;oBAChB,IAAI,EAAE,IAAI,CAAC,EAAE,EAAE;iBAChB,CAAC,EAFe,CAEf;SACH,CAAC;IAJF,CAIE,CACH;CACF,CAAC;AAEF,qBAAqB;AACpB,MAAc,CAAC,YAAY,GAAG,gBAAgB,CAAC;AAC/C,MAAc,CAAC,SAAS,GAAG,aAAa,CAAC;AAC1C,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,SAAS,EAAE,cAAc,EAAE;IACtD,KAAK,EAAE,gBAAgB;IACvB,YAAY,EAAE,IAAI;CACnB,CAAC,CAAC;AAEH,kBAAkB;AAClB,IAAM,mBAAmB,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC;AACtC,IAAM,mBAAmB,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC;AAErC,MAAM,CAAC,GAAW,CAAC,eAAe,GAAG,mBAAmB,CAAC;AACzD,MAAM,CAAC,GAAW,CAAC,eAAe,GAAG,mBAAmB,CAAC;AAE1D,wBAAwB;AACxB,UAAU,CAAC;IACT,IAAI,CAAC,aAAa,EAAE,CAAC;AACvB,CAAC,CAAC,CAAC","sourcesContent":["import '@testing-library/jest-dom';\n\n// Mock the AudioContext and related APIs\nclass MockAudioContext {\n  createAnalyser() {\n    return {\n      connect: jest.fn(),\n      disconnect: jest.fn(),\n      fftSize: 0,\n      frequencyBinCount: 0,\n    };\n  }\n  \n  createBufferSource() {\n    return {\n      connect: jest.fn(),\n      disconnect: jest.fn(),\n      start: jest.fn(),\n      stop: jest.fn(),\n    };\n  }\n\n  createMediaStreamSource() {\n    return {\n      connect: jest.fn(),\n      disconnect: jest.fn(),\n    };\n  }\n\n  resume() {\n    return Promise.resolve();\n  }\n\n  suspend() {\n    return Promise.resolve();\n  }\n\n  close() {\n    return Promise.resolve();\n  }\n}\n\n// Mock WebSocket\nclass MockWebSocket {\n  onopen: (() => void) | null = null;\n  onclose: (() => void) | null = null;\n  onmessage: ((data: unknown) => void) | null = null;\n  onerror: ((error: unknown) => void) | null = null;\n  readyState = 0;\n\n  constructor(public url: string, public protocols?: string | string[]) {}\n\n  send(_data: string | ArrayBuffer) {\n    // Mock implementation\n  }\n\n  close() {\n    // Mock implementation\n  }\n}\n\n// Mock MediaDevices\nconst mockMediaDevices = {\n  getUserMedia: jest.fn().mockImplementation(() => \n    Promise.resolve({\n      getTracks: () => [{\n        stop: jest.fn(),\n      }],\n    })\n  ),\n};\n\n// Setup global mocks\n(global as any).AudioContext = MockAudioContext;\n(global as any).WebSocket = MockWebSocket;\nObject.defineProperty(global.navigator, 'mediaDevices', {\n  value: mockMediaDevices,\n  configurable: true,\n});\n\n// Mock window.URL\nconst mockCreateObjectURL = jest.fn();\nconst mockRevokeObjectURL = jest.fn();\n\n(global.URL as any).createObjectURL = mockCreateObjectURL;\n(global.URL as any).revokeObjectURL = mockRevokeObjectURL;\n\n// Cleanup between tests\nbeforeEach(() => {\n  jest.clearAllMocks();\n});\n"]}