{"version":3,"file":"index.js","sourceRoot":"","sources":["index.ts"],"names":[],"mappings":"AAAA,oCAAoC;AACpC,cAAc,SAAS,CAAC;AACxB,cAAc,iBAAiB,CAAC;AAChC,cAAc,YAAY,CAAC","sourcesContent":["// Re-export all voice-related types\nexport * from './agent';\nexport * from './transcription';\nexport * from './voiceBot';\n\n// Core voice interaction types\nimport { ConnectionState, EndpointConfig } from '../common/connection';\nimport { DeepgramError } from '../common/error';\nimport { MicrophoneConfig } from '../common/microphone';\n\nexport type AgentState = 'idle' | 'listening' | 'thinking' | 'speaking' | 'entering_sleep' | 'sleeping';\nexport type ServiceType = 'transcription' | 'agent';\n\nexport interface AgentOptions {\n  language?: string;\n  listenModel?: string;\n  thinkProviderType?: string;\n  thinkModel?: string;\n  thinkEndpointUrl?: string;\n  thinkApiKey?: string;\n  voice?: string;\n  instructions?: string;\n  greeting?: string;\n}\n\nexport interface DeepgramVoiceInteractionProps {\n  apiKey: string;\n  transcriptionOptions?: Record<string, any>;\n  agentOptions?: AgentOptions;\n  endpointConfig?: EndpointConfig;\n  microphoneConfig?: Partial<MicrophoneConfig>;\n  onReady?: (isReady: boolean) => void;\n  onConnectionStateChange?: (service: ServiceType, state: ConnectionState) => void;\n  onTranscriptUpdate?: (transcript: TranscriptResponse) => void;\n  onAgentStateChange?: (state: AgentState) => void;\n  onAgentUtterance?: (response: LLMResponse) => void;\n  onUserMessage?: (message: UserMessageResponse) => void;\n  onUserStartedSpeaking?: () => void;\n  onUserStoppedSpeaking?: () => void;\n  onPlaybackStateChange?: (isPlaying: boolean) => void;\n  onMicrophoneData?: (data: ArrayBuffer) => void;\n  onError?: (error: DeepgramError) => void;\n  debug?: boolean;\n}\n\nexport interface DeepgramVoiceInteractionHandle {\n  start: () => Promise<void>;\n  stop: () => Promise<void>;\n  updateAgentInstructions: (payload: UpdateInstructionsPayload) => void;\n  interruptAgent: () => void;\n  sleep: () => void;\n  wake: () => void;\n  toggleSleep: () => void;\n  injectAgentMessage: (message: string) => void;\n  startRecording: () => Promise<void>;\n  stopRecording: () => void;\n  checkMicrophonePermissions: () => Promise<any>;\n  getMicrophoneState: () => any;\n}\n\nexport interface UpdateInstructionsPayload {\n  instructions?: string;\n  context?: string;\n}\n\nexport interface LLMResponse {\n  type: 'llm';\n  text: string;\n  metadata?: any;\n}\n\nexport interface UserMessageResponse {\n  type: 'user';\n  text: string;\n  metadata?: any;\n}\n\nexport interface TranscriptResponse {\n  type: string;\n  channel_index?: number[];\n  duration?: number;\n  start?: number;\n  is_final?: boolean;\n  speech_final?: boolean;\n  channel?: {\n    alternatives: Array<{\n      transcript: string;\n      confidence: number;\n      words?: Array<{\n        word: string;\n        start: number;\n        end: number;\n        confidence: number;\n      }>;\n    }>;\n  };\n} "]}