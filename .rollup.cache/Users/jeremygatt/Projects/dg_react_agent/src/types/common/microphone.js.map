{"version":3,"file":"microphone.js","sourceRoot":"","sources":["microphone.ts"],"names":[],"mappings":"AA2CA,MAAM,CAAC,IAAM,yBAAyB,GAAqB;IACzD,WAAW,EAAE;QACX,UAAU,EAAE,KAAK;QACjB,YAAY,EAAE,CAAC;QACf,gBAAgB,EAAE,IAAI;QACtB,gBAAgB,EAAE,KAAK;QACvB,eAAe,EAAE,KAAK;QACtB,OAAO,EAAE,IAAI,CAAC,eAAe;KAC9B;IACD,UAAU,EAAE,IAAI;IAChB,KAAK,EAAE,KAAK;CACb,CAAC","sourcesContent":["export interface MicrophoneConstraints {\n  sampleRate?: number;\n  channelCount?: number;\n  echoCancellation?: boolean;\n  noiseSuppression?: boolean;\n  autoGainControl?: boolean;\n  latency?: number;\n}\n\nexport interface MicrophoneConfig {\n  constraints: MicrophoneConstraints;\n  bufferSize?: number;\n  debug?: boolean;\n}\n\nexport interface MicrophoneState {\n  isInitialized: boolean;\n  isRecording: boolean;\n  hasPermission: boolean;\n  permissionState: PermissionState | null;\n  error: string | null;\n}\n\nexport interface MicrophoneEventHandlers {\n  onInitialized?: () => void;\n  onRecordingStart?: () => void;\n  onRecordingStop?: () => void;\n  onAudioData?: (data: ArrayBuffer) => void;\n  onError?: (error: Error) => void;\n  onPermissionChange?: (state: PermissionState) => void;\n}\n\nexport interface MicrophonePermissionResult {\n  granted: boolean;\n  state: PermissionState;\n  error?: string;\n}\n\nexport interface AudioWorkletMessage {\n  type: 'start' | 'stop' | 'started' | 'stopped' | 'audio';\n  data?: ArrayBuffer;\n}\n\nexport const DEFAULT_MICROPHONE_CONFIG: MicrophoneConfig = {\n  constraints: {\n    sampleRate: 48000,\n    channelCount: 1,\n    echoCancellation: true,\n    noiseSuppression: false,\n    autoGainControl: false,\n    latency: 0.01 // 10ms latency\n  },\n  bufferSize: 4096,\n  debug: false\n}; "]}