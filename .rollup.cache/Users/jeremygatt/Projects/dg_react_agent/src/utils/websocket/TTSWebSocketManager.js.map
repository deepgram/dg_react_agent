{"version":3,"file":"TTSWebSocketManager.js","sourceRoot":"","sources":["TTSWebSocketManager.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,oBAAoB,EAAE,MAAM,gCAAgC,CAAC;AAStE;IAAyC,uCAAoB;IAI3D,6BACE,OAA4B,EAC5B,QAAqC;QAArC,yBAAA,EAAA,aAAqC;QAFvC,YAIE,wCACK,OAAO,KACV,GAAG,EAAE,mBAAmB,CAAC,QAAQ,KAChC,QAAQ,CAAC,SAEb;QADC,KAAI,CAAC,UAAU,GAAG,OAAO,CAAC;;IAC5B,CAAC;IAEkB,+CAAiB,GAApC;QACE,IAAM,GAAG,GAAG,IAAI,GAAG,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;QAClD,GAAG,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QACxD,GAAG,CAAC,YAAY,CAAC,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;QAC9D,GAAG,CAAC,YAAY,CAAC,MAAM,CAAC,aAAa,EAAE,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC9E,GAAG,CAAC,YAAY,CAAC,MAAM,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;QAC7C,OAAO,GAAG,CAAC,QAAQ,EAAE,CAAC;IACxB,CAAC;IArBuB,4BAAQ,GAAG,iCAAiC,CAAC;IAsBvE,0BAAC;CAAA,AAvBD,CAAyC,oBAAoB,GAuB5D;SAvBY,mBAAmB","sourcesContent":["import { BaseWebSocketManager } from '../shared/BaseWebSocketManager';\nimport { WebSocketManagerOptions, WebSocketEventHandlers } from '../../types/common/connection';\n\ninterface TTSWebSocketOptions extends Omit<WebSocketManagerOptions, 'url'> {\n  model: string;\n  encoding: string;\n  sampleRate: number;\n}\n\nexport class TTSWebSocketManager extends BaseWebSocketManager {\n  private static readonly BASE_URL = 'wss://api.deepgram.com/v1/speak';\n  private ttsOptions: TTSWebSocketOptions;\n\n  constructor(\n    options: TTSWebSocketOptions,\n    handlers: WebSocketEventHandlers = {}\n  ) {\n    super({\n      ...options,\n      url: TTSWebSocketManager.BASE_URL\n    }, handlers);\n    this.ttsOptions = options;\n  }\n\n  protected override buildWebSocketURL(): string {\n    const url = new URL(TTSWebSocketManager.BASE_URL);\n    url.searchParams.append('model', this.ttsOptions.model);\n    url.searchParams.append('encoding', this.ttsOptions.encoding);\n    url.searchParams.append('sample_rate', this.ttsOptions.sampleRate.toString());\n    url.searchParams.append('container', 'none');\n    return url.toString();\n  }\n} "]}